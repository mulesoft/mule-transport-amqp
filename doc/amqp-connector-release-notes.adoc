= AMQP Connector Release Notes
:keywords: amqp, release, notes

== Release notes for AMQP 3.8.x

*June 2018*

_Select_

*Note:* This version needs Java 8 or greater.

== AMQP Compatibility

[%header%autowidth.spread]
|===
|Software |Version
|Mule Runtime |3.9 and later
|Anypoint Studio |3.5 and later
|===

== Version 3.8.0 - June 21, 2018

This release consists of the change of RabbitMQ client api to 5.3.x.

=== Version 3.8.0 - Improvements

* AMQP-95: Update rabbitmq client version to 5.x

== Release notes for AMQP 3.7.x

*December 2017*

_Select_

*Note:* If you are updating from AMQP 3.7.1 and earlier, uninstall your connector from Anypoint Studio before installing the latest version of this connector in Anypoint Exchange.

== AMQP Compatibility

[%header%autowidth.spread]
|===
|Software |Version
|Mule Runtime |3.5 and later
|Anypoint Studio |3.5 and later
|===

== Version 3.7.9 - June 21, 2018

This release consists of the change of RabbitMQ client api to 4.6.x.

=== Version 3.7.9 - Improvements

* AMQP-96: Update rabbitmq client version to 4.x

== Version 3.7.8 - April 23, 2018

This release consists of bug fixes.

=== Version 3.7.8 - Fixed in This Release

* AMQP-94: Consumers are not recovered when a queue is temporary unavailable/deleted.

== Version 3.7.7 - March 01, 2018

This release consists of bug fixes.

=== Version 3.7.7 - Fixed in This Release

* AMQP-92: Replace Basic.Recover with Basic.Reject to avoid unknown delivery tag issues.

== Version 3.7.6 - February 18, 2018

This release consists of bug fixes.

=== Version 3.7.6 - Fixed in This Release

* AMQP-85: Race condition can result in more subreceivers created than the number of channels.


== Version 3.7.5 - February 9, 2018

This release consists of bug fixes.

=== Version 3.7.5 - Fixed in This Release

* AMQP-72: Fix MessageDispatcherItCase#testOutboundQueueCreation.
* AMQP-83: AMQP is using transactional channels for non-transactional endpoints.


== Version 3.7.4 - December 28, 2017

This release consists of bug fixes.

=== Version 3.7.4 - Fixed in This Release

* Revert AMQP-67 where subreceivers in AMQP begin to receive messages before the app is fully started. (AMQP-80)


== Version 3.7.3 - October 31, 2017

This release consists of bug fixes.

=== Version 3.7.3 - Fixed in This Release

* Fix DynamicRoutingKeyItCase so that the needed queues are created through a JSON file. (AMQP-78)
* AMQP connector does not create a queue. (AMQP-77)

== Version 3.7.2 - August 2017

Notes:

* To support Exchange 2.0 the ID of the connector in Anypoint Studio changed to `org.mule.tooling.ui.extension.mule-transport-amqp-tooling.3.5.0.feature.group` - because of this change, version 3.7.2 does not appear as an update in the Connectors Update Site but instead appears as a new connector.
* The connector category changed from Community to the https://www.mulesoft.com/legal/versioning-back-support-policy#anypoint-connectors[Select] connector support policy.
* To support Exchange 2.0 properly, the feature ID of AMQP Connector has changed. Before downloading  https://anypoint.mulesoft.com/exchange/org.mule.modules/mule-transport-amqp-studio/[AMQP v3.7.2 from Exchange 2.0],  uninstall the existing version of this connector in Anypoint Studio.

=== Version 3.7.2 - Fixed in This Release

* AMQP-65: AMQP Threading Profile always set to default.
* AMQP-69: AMQP Connector is not supporting dynamic routing keys.
* AMQP-67: Subreceivers in AMQP begin to receive messages before the app
* AMQP-71: Change AmqpConnectorThreadingProfileTestCase to IT folder.
* AMQP-72: Fix MessageDispatcherItCase#testOutboundQueueCreation
* AMQP-73: Support Exchange 2.0

== Version 3.7.1 - June 2017

Bug fixes.

=== Version 3.7.1 - Fixed in This Release

* AMQP-44: Outbound endpoint is not declaring fully defined exchanges and queues.
* AMQP-59: Close connection when channel cannot be started.
* AMQP-63: AMQPS reconnection strategy is not working after SocketTimeoutException.
* MULE-11577: Fix Re-creating queues and exchanges while reconnecting to RabbitMQ.

== Version 3.7.0 - July 2016

This release includes improvements and fixes.

*Note:* The minimum Mule version for 3.7.0 is Mule 3.5.

=== Version 3.7.0 - Improvements

* AMQP-16: Studio - Support SSL connectivity to the broker. (Support for AMQPS in Studio.)
* AMQP-46: Upgrade AMQP Client jar from version 3.3.5 to version 3.6.1.
* AMQP-47: Take advantage of TLS protocol/cipher control.
** Support for TLS versions 1.1 and 1.2 (Only available using JDK 7).
** The sslProtocol attribute now supports the values TLSv1, TLSv1.1, and TLSv1.2 apart from the previously available TLS.
** The connector now validates its configuration against the `tls-default.conf` parameters and respects the protocols and cipher setup.

=== Version 3.7.0 - Fixed Issues

* AMQP-51: Method getChannel(...) from `org.mule.transport.amqp.internal.client.ChannelHandler` returns the wrong channel when bridging using different AMQP connectors.
* AMQP-52: Studio - Object-to-amqpmessage-transformer operation is not defined for AMQP and AMQPS.
